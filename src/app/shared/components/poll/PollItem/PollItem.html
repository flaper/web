<div class="poll-container" *ngIf="poll">
  <div class="user-info">
    <user-avatar [id]="poll.userId"></user-avatar>
    <user-link [id]="poll.userId"></user-link>
  </div>
  <div class="poll-content">
    <h2>
      {{poll.title}}
    </h2>

    <div class="alert alert-success" *ngIf="!inProgress() && !hasFinished()">
      Голосование начнется {{poll.openDate | date: "dd.MM.yyyy"}} <br>
    </div>
    <div class="" *ngIf="canBeCandidate() && !inProgress() && !hasFinished()">
      <button class='btn btn-success col-xs-12' (click)="addMeAsCandidate()"><i class='fa fa-person'></i>Добавить свою кандидатуру</button>
    </div>

    <ul class="answer-list" *ngIf="canVote() && inProgress()">
      <li class="answer-list__item col-xs-6 col-sm-6 col-md-4 col-lg-4" *ngFor="let answer of poll.answers">
        <a class='btn btn-vote' (click)="vote(answer)" *ngIf="poll.type=='poll'">
          {{answer}}
        </a>
        <a class='btn btn-vote' (click)="vote(answer)" *ngIf="poll.type=='voting'">
          <user-avatar [id]="answer"></user-avatar>
          <user-link [id]="answer"></user-link>
        </a>
      </li>
    </ul>

    <ul class="result-list" *ngIf="!canVote()"> {{ poll.type ==='voting' ? 'Кандидаты':'Варианты ответов'}}: {{ poll.type==='poll' || (poll.answers.length > 0) ? "" : "пока не зарегистрированы"}}
      <li class="result-list__item" *ngFor="let answer of poll.answers">
        <div *ngIf="poll.type=='poll'">
          {{answer}}
        </div>
        <div *ngIf="poll.type=='voting'">
          <user-avatar [id]="answer"></user-avatar>
          <user-link [id]="answer"></user-link>
        </div>
      </li>
    </ul>
  </div>
  <comments-short-list [subject]="poll">
  </comments-short-list>
</div>
